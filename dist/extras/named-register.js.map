{"version":3,"file":"named-register.js","sources":["../../src/extras/named-register.js"],"sourcesContent":["/*\n * SystemJS named register extension\n * Supports System.register('name', [..deps..], function (_export, _context) { ... })\n *\n * Names are written to the registry as-is\n * System.register('x', ...) can be imported as System.import('x')\n */\nconst systemJSPrototype = System.constructor.prototype;\n\nconst constructor = System.constructor;\nconst SystemJS = function () {\n  constructor.call(this);\n  this.registerRegistry = Object.create(null);\n};\nSystemJS.prototype = systemJSPrototype;\nSystemJS.prototype.constructor = SystemJS;\nglobal.System = new SystemJS();\n\nconst register = systemJSPrototype.register;\nsystemJSPrototype.register = function (name, deps, declare) {\n  if (typeof name !== 'string')\n    return register.apply(this, arguments);\n\n  this.registerRegistry[name] = [deps, declare];\n\n  // Provide an empty module to signal success.\n  return register.call(this, [], function () { return {}; });\n};\n\nconst resolve = systemJSPrototype.resolve;\nsystemJSPrototype.resolve = function (id, parentURL) {\n  if (id[0] === '/' || id[0] === '.' && (id[1] === '/' || id[1] === '.' && id[2] === '/'))\n    return resolve.call(this, id, parentURL);\n  if (id in this.registerRegistry)\n    return id;\n  return resolve.call(this, id, parentURL);\n};\n\nconst instantiate = systemJSPrototype.instantiate;\nsystemJSPrototype.instantiate = function (url, firstParentUrl) {\n  return this.registerRegistry[url] || instantiate.call(this, url, firstParentUrl);\n};\n"],"names":["systemJSPrototype","System","constructor","prototype","SystemJS","call","registerRegistry","Object","create","global","register","name","deps","declare","apply","arguments","resolve","id","parentURL","instantiate","url","firstParentUrl"],"mappings":";;;;;;CAAA;;;;;;;CAOA,MAAMA,iBAAiB,GAAGC,MAAM,CAACC,WAAP,CAAmBC,SAA7C;CAEA,MAAMD,WAAW,GAAGD,MAAM,CAACC,WAA3B;;CACA,MAAME,QAAQ,GAAG,YAAY;GAC3BF,WAAW,CAACG,IAAZ,CAAiB,IAAjB;QACKC,gBAAL,GAAwBC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAxB;EAFF;;CAIAJ,QAAQ,CAACD,SAAT,GAAqBH,iBAArB;CACAI,QAAQ,CAACD,SAAT,CAAmBD,WAAnB,GAAiCE,QAAjC;AACAK,eAAM,CAACR,MAAP,GAAgB,IAAIG,QAAJ,EAAhB;CAEA,MAAMM,QAAQ,GAAGV,iBAAiB,CAACU,QAAnC;;CACAV,iBAAiB,CAACU,QAAlB,GAA6B,UAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,OAAtB,EAA+B;OACtD,OAAOF,IAAP,KAAgB,QAApB,EACE,OAAOD,QAAQ,CAACI,KAAT,CAAe,IAAf,EAAqBC,SAArB,CAAP;QAEGT,gBAAL,CAAsBK,IAAtB,IAA8B,CAACC,IAAD,EAAOC,OAAP,CAA9B,CAJ0D;;UAOnDH,QAAQ,CAACL,IAAT,CAAc,IAAd,EAAoB,EAApB,EAAwB,YAAY;YAAS,EAAP;IAAtC,CAAP;EAPF;;CAUA,MAAMW,OAAO,GAAGhB,iBAAiB,CAACgB,OAAlC;;CACAhB,iBAAiB,CAACgB,OAAlB,GAA4B,UAAUC,EAAV,EAAcC,SAAd,EAAyB;OAC/CD,EAAE,CAAC,CAAD,CAAF,KAAU,GAAV,IAAiBA,EAAE,CAAC,CAAD,CAAF,KAAU,GAAV,KAAkBA,EAAE,CAAC,CAAD,CAAF,KAAU,GAAV,IAAiBA,EAAE,CAAC,CAAD,CAAF,KAAU,GAAV,IAAiBA,EAAE,CAAC,CAAD,CAAF,KAAU,GAA9D,CAArB,EACE,OAAOD,OAAO,CAACX,IAAR,CAAa,IAAb,EAAmBY,EAAnB,EAAuBC,SAAvB,CAAP;OACED,EAAE,IAAI,KAAKX,gBAAf,EACE,OAAOW,EAAP;UACKD,OAAO,CAACX,IAAR,CAAa,IAAb,EAAmBY,EAAnB,EAAuBC,SAAvB,CAAP;EALF;;CAQA,MAAMC,WAAW,GAAGnB,iBAAiB,CAACmB,WAAtC;;CACAnB,iBAAiB,CAACmB,WAAlB,GAAgC,UAAUC,GAAV,EAAeC,cAAf,EAA+B;UACtD,KAAKf,gBAAL,CAAsBc,GAAtB,KAA8BD,WAAW,CAACd,IAAZ,CAAiB,IAAjB,EAAuBe,GAAvB,EAA4BC,cAA5B,CAArC;EADF;;;;;;;;;;;;"}